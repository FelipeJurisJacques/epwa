FROM ubuntu:latest

RUN apt-get update
RUN apt-get install -y software-properties-common 
RUN add-apt-repository ppa:deadsnakes/ppa

RUN apt-get update
RUN apt-get install -y python3.11 python3.11-venv python3.11-dev
RUN apt-get install -y gcc
RUN apt-get install -y git
RUN apt-get install -y curl

RUN curl -sS https://bootstrap.pypa.io/get-pip.py | python3.11

RUN apt-get clean
RUN rm -rf /var/lib/apt/lists/*
RUN ln -sf /usr/bin/pip3.11 /usr/bin/pip
RUN ln -sf /usr/bin/python3.11 /usr/bin/python

RUN apt-get remove --purge -y python3-blinker
RUN dpkg -r --force-all python3-blinker

WORKDIR /workspace

COPY ./entrypoint.sh /usr/local/bin/
RUN chmod +x /usr/local/bin/entrypoint.sh

CMD ["/usr/local/bin/entrypoint.sh"]